/*
Theme Name: Yak
Theme URI: http://www.tomatillodesign.com/yak
Author: Tomatillo Design
Author URI: http://www.tomatillodesign.com
Description: Custom Genesis child theme with modern CSS architecture and full block editor support.
Version: 1.0
Template: genesis
License: GNU General Public License v2 or later
License URI: https://www.gnu.org/licenses/gpl-2.0.html
Text Domain: yak
Tags: block-styles, custom-colors, custom-logo, custom-menu, editor-style, featured-images, full-site-editing, threaded-comments, translation-ready
*/

@layer reset, yak-base, yak-blocks, yak-layout, yak-components, yak-utilities, yak-overrides;

@layer reset {
  *, *::before, *::after { box-sizing: border-box; }
  * { margin: 0; }
  html, body { height: 100%; }
  body { line-height: 1.5; -webkit-font-smoothing: antialiased; }
  img, picture, video, canvas, svg { display: block; max-width: 100%; }
  input, button, textarea, select { font: inherit; }
  p, h1, h2, h3, h4, h5, h6 { overflow-wrap: break-word; }
  #root, #__next { isolation: isolate; }
}

@layer yak-base {
  :root {
    /* Font family variables */
	--yak-primary-font: system-ui, sans-serif;
	--yak-secondary-font: var(--yak-primary-font);
	--yak-accent-font: var(--yak-primary-font);

	/* Base font size: user-controlled via ACF (fallback = 18px) */
	--yak-font-base-px: 18;                          /* ACF-driven, in pixels */
	--yak-font-base: calc(var(--yak-font-base-px) * 1px); /* usable in rem/rem-adjacent logic */

	/* Modular scale: Minor Third (1.25x) */
	--yak-type-ratio: 1.25;

	/* Font sizes (relative, rem-based) */
	--yak-font-xs: calc(var(--yak-font-base) / (var(--yak-type-ratio) * var(--yak-type-ratio)));  /* smallest */
	--yak-font-sm: calc(var(--yak-font-base) / var(--yak-type-ratio));                            /* smaller than base */
	--yak-font-md: var(--yak-font-base);                                                          /* base */
	--yak-font-lg: calc(var(--yak-font-md) * var(--yak-type-ratio));                              /* larger */
	--yak-font-xl: calc(var(--yak-font-lg) * var(--yak-type-ratio));
	--yak-font-2xl: calc(var(--yak-font-xl) * var(--yak-type-ratio));
	--yak-font-3xl: calc(var(--yak-font-2xl) * var(--yak-type-ratio));
	--yak-font-4xl: calc(var(--yak-font-3xl) * var(--yak-type-ratio));
	--yak-font-5xl: calc(var(--yak-font-4xl) * var(--yak-type-ratio));
	--yak-font-6xl: calc(var(--yak-font-5xl) * var(--yak-type-ratio));


	/* Dynamic line-heights — larger sizes get tighter */
	--yak-lh-xs: 1.84;     /* small body text */
	--yak-lh-sm: 1.78;
	--yak-lh-md: 1.65;     /* base body size */
	--yak-lh-lg: 1.45;
	--yak-lh-xl: 1.32;
	--yak-lh-2xl: 1.22;
	--yak-lh-3xl: 1.15;
	--yak-lh-4xl: 1.1;
	--yak-lh-5xl: 1.05;
	--yak-lh-6xl: 1;

	/* Colors */
	--yak-color-black: #000;
	--yak-color-white: #fff;
	--yak-color-primary: #2363e0;
	--yak-color-muted: #f5f5f5;

	/* Spacing & layout */
	--yak-radius: 6px;
	--yak-content-max-width: 75ch;
	--yak-padding-block: 2rem;
    --yak-padding-block-mobile: 1.5rem;

  }

  html {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    scroll-behavior: smooth;
  }

  body {
	font-family: var(--yak-primary-font);
	font-size: var(--yak-font-md);        /* based on ACF value */
	line-height: var(--yak-lh-md);        /* scales with it */
	font-weight: 400;
	color: var(--yak-color-black);
	background-color: var(--yak-color-white);

	letter-spacing: 0.01em;
	text-rendering: optimizeLegibility;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
  }

  	.genesis-skip-link,
	.yak-hide-site-description p.site-description {
		position: absolute;
		left: -9999px;
		top: auto;
		width: 1px;
		height: 1px;
		overflow: hidden;
		clip: rect(1px, 1px, 1px, 1px);
		white-space: nowrap;
	}

	.genesis-skip-link:focus {
		position: absolute;
		left: 0;
		top: 0;
		width: auto;
		height: auto;
		padding: 1em;
		background: #000;
		color: #fff;
		z-index: 1000;
		clip: auto;
		white-space: normal;
	}


  .entry-content {
	position: relative;
	z-index: 0;
	text-wrap: pretty;
	}


  a {
    color: var(--yak-color-primary);
    text-decoration: underline;
    transition: all 0.2s ease-in-out;
  }

  a:hover,
  a:focus {
    text-decoration: none;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: var(--yak-secondary-font);
    font-weight: 700;
    line-height: 1.2;
    margin-bottom: 1rem;
  }

  h1 {
	font-size: var(--yak-font-3xl);
  }

  .wp-singular h1.entry-title {
	text-align: center;
  }

  p {
    margin-bottom: 1.5rem;
  }

  img {
    display: block;
    max-width: 100%;
    height: auto;
  }

  .site-title {
    font-family: var(--yak-secondary-font);
    font-size: 1.75rem;
    margin: 0;
  }

  .site-title a {
    text-decoration: none;
    color: inherit;
  }

  .site-description {
    font-size: 1rem;
    color: #666;
	margin: 0;
  }

  .entry-content > *:first-child {
    margin-top: 0;
  }

  .entry-content > *:last-child {
    margin-bottom: 0;
  }

  .entry-content h1,
  .entry-content h2,
  .entry-content h3,
  .entry-content h4,
  .entry-content h5,
  .entry-content h6 {
    margin-top: 2.5rem;
    margin-bottom: 1rem;
    line-height: 1.25;
  }

  .entry-content p,
  .entry-content ul,
  .entry-content ol,
  .entry-content blockquote,
  .entry-content pre,
  .entry-content table,
  .entry-content figure {
    margin-bottom: 1.75rem;
  }

  .entry-content ul,
  .entry-content ol {
    padding-left: 1.5rem;
  }

  .entry-content blockquote {
    padding-left: 1rem;
    border-left: 4px solid var(--yak-color-primary);
    color: #444;
    font-style: italic;
  }

  .entry-content code,
  .entry-content pre {
    font-family: monospace;
    font-size: 0.95em;
    background-color: #f0f0f0;
    padding: 0.2em 0.4em;
    border-radius: 4px;
  }

	.entry-content > p:last-child,
	.yak-box > p:last-child,
	.yak-card > p:last-child,
	footer p:last-child,
	.site-footer p:last-child {
		margin-bottom: 0;
	}

	.entry-content > p:last-of-type:last-child {
		margin-bottom: 0;
	}

	@media (max-width: 960px) {

		.yak-desktop-only {
			display: none !important;
		}

	}

	@media (min-width: 960px) {

		.yak-mobile-only {
			display: none !important;
		}

	}

}


/*   @layer yak-blocks
/* 
/* are located in a separate file
/* styles there REPLACE all default gutenberg/block editor styles
/* maintains order and ability to overwrite without customizer */


@layer yak-layout {
  .site-container {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
  }

  .site-header,
  .site-footer {
    padding: 2rem 1rem;
    background: var(--yak-color-muted);
  }

  .site-footer {
	background: var(--yak-color-primary);
	text-align: center;
	font-size: var(--yak-font-sm);
	color: var(--yak-color-white);

	& a {
		color: var(--yak-color-white);
		text-decoration: none;
	}

	& a:hover {
		text-decoration: underline;
	}

  }


	/* Neutral state for measuring */
	.yak-pull-left.yak-pull-measuring,
	.yak-pull-right.yak-pull-measuring {
		float: none !important;
		margin: 0 !important;
	}

	/* Left-pulled items */
	.yak-pull-left.yak-pull-active {
		float: left;
		margin-inline-start: -150px;
		margin-inline-end: 2em;
		max-width: min(66%, 500px);
	}

	/* Right-pulled items */
	.yak-pull-right.yak-pull-active {
		float: right;
		margin-inline-end: -150px;
		margin-inline-start: 2em;
		max-width: min(66%, 500px);
	}


  .site-inner {
    flex-grow: 1;
    padding-block: 2rem;
  }

  .content-sidebar-wrap {
    display: flex;
    flex-wrap: wrap;
    gap: 2rem;
    max-width: var(--yak-content-max-width, 75ch);
    margin-inline: auto;
    padding-inline: 1rem;
  }

  .content {
    flex: 1 1 100%;
  }

	.site-header {
		background: #fff;
		padding: 1rem 2rem;
		box-shadow: 0 0 12px rgba(0,0,0,.1);
	}

	.site-header > .wrap {
		display: flex;
		justify-content: space-between;
		align-items: center;
		gap: 2rem;
		flex-wrap: wrap;
	}

	.title-area {
		flex-shrink: 0;
	}

	.site-title {
		font-size: 1.8rem;
		font-weight: 700;
		margin: 0;
		line-height: 1.2;
	}

	.site-title a {
		text-decoration: none;
		color: inherit;
	}

	.site-description {
		font-size: 1rem;
		color: #666;
		margin-top: 0.3em;
	}

	.yak-footer-widgets-outer-wrapper {
		width: 100%;
		background: var(--yak-color-muted);
	}

	.yak-footer-widgets {
		display: grid;
		grid-template-columns: 1fr;
		gap: 2rem;
		padding: 2rem;
		max-width: 1280px;
		margin-left: auto;
		margin-right: auto;
		width: 100%;
	}

  @media (min-width: 960px) {

		.content {
			flex: 1 1 70%;
		}
	
		.nav-primary {
			flex-grow: 1;
		}
	
		.nav-primary .wrap {
			display: flex;
			justify-content: flex-end;
		}
	
		.genesis-nav-menu {
			display: flex;
			gap: 2rem;
			margin: 0;
			padding: 0;
			list-style: none;
			align-items: center;
		}
	
		.genesis-nav-menu a {
			text-decoration: none;
			font-weight: 500;
			color: #222;
			padding: 0.5rem 0;
			display: inline-block;
			border-bottom: 2px solid transparent;
			transition: border-color 0.2s ease;
		}
	
		.genesis-nav-menu a:hover,
		.genesis-nav-menu a:focus,
		.genesis-nav-menu .current-menu-item > a {
			border-bottom-color: currentColor;
		}	
	
		.yak-footer-widgets-1 { grid-template-columns: 1fr; }
		.yak-footer-widgets-2 { grid-template-columns: 1fr 1fr; }
		.yak-footer-widgets-3 { grid-template-columns: 1fr 1fr 1fr; }
		.yak-footer-widgets-4 { grid-template-columns: repeat(4, 1fr); }
	
		.yak-footer-widget-column {
			padding: 0 1rem;
		}

		body.yak-has-sticky-header .site-header {
			position: sticky;
			top: 0;
			z-index: 100;
			background: var(--yak-color-header-bg, #fff); /* fallback */
		}

		body.yak-has-sticky-header.admin-bar .site-header {
			top: 32px;
		}
  
	}

	@media (max-width: 959px) {

		body.yak-disable-header-transition .site-header {
			transition: none !important;
		}

		.site-header {
			position: fixed;
			top: 0;
			left: 0;
			right: 0;
			transition: transform 0.5s ease-in-out;
			z-index: 100;
			transform: translateY(32px); /* will be overwritten by JS */
		}
	
		body.yak-header-hidden .site-header {
			/* no static transform here — always managed by JS */
		}
	
		.yak-mobile-header-placeholder {
			display: block;
			width: 100%;
		}

	}

	

}


@layer yak-components {

	/* ========== Desktop Nav ========== */

	.yak-main-nav {
		display: flex;
		gap: 2rem;
		list-style: none;
		margin: 0;
		padding: 0;
		position: relative;
	}

	.yak-main-nav > li {
		position: relative;
	}

	.yak-main-nav a {
		font-family: var(--yak-primary-font);
		display: inline-block;
		padding: 0.75rem 0.5rem;
		text-decoration: none;
		color: var(--yak-color-black);
		font-weight: 500;
		background: transparent;
		transition: background-color 0.2s ease;
	}

	.yak-main-nav a:hover,
	.yak-main-nav a:focus {
		background-color: var(--yak-color-muted);
		outline: none;
	}

	.yak-main-nav li.menu-item-has-children > a::after {
		content: '';
		display: inline-block;
		margin-left: 0.5em;
		vertical-align: middle;
		width: 0.5em;
		height: 0.5em;
		border-right: 2px solid currentColor;
		border-bottom: 2px solid currentColor;
		transform: rotate(45deg);
		margin-top: -0.3em;
	}

	.yak-main-nav .sub-menu {
		position: absolute;
		top: 100%;
		left: 0;
		min-width: 220px;
		background: #fff;
		box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08);
		visibility: hidden;
		opacity: 0;
		transform: translateY(0.5rem);
		transition: opacity 0.2s ease, transform 0.2s ease;
		z-index: 9999;
		padding: 0;
		list-style: none;
	}

	.yak-main-nav .sub-menu li {
		position: relative;
	}

	.yak-main-nav .sub-menu a {
		padding: 0.5rem 1rem;
		display: block;
		color: var(--yak-base-10);
		font-weight: 400;
		background: transparent;
	}

	.yak-main-nav .sub-menu a:hover,
	.yak-main-nav .sub-menu a:focus {
		color: var(--yak-color-black);
		background-color: var(--yak-color-muted);
	}

	.yak-main-nav li:hover > .sub-menu,
	.yak-main-nav li:focus-within > .sub-menu {
		visibility: visible;
		opacity: 1;
		transform: translateY(0);
	}


	@media (max-width: 959px) {

		.site-header .nav-primary {
			display: none;
		}

		/* ===== Toggle Button ===== */
		.yak-menu-toggle {
			position: relative;
			z-index: 10; /* will be covered by panel */
			display: inline-flex;
			flex-direction: column;
			justify-content: center;
			align-items: center;
			width: 40px;
			height: 40px;
			background: none;
			border: none;
			cursor: pointer;
		}
	
		.yak-menu-icon {
			display: flex;
			flex-direction: column;
			justify-content: center;
			gap: 5px;
			width: 24px;
			height: 18px;
		}
	
		.yak-menu-bar {
			width: 100%;
			height: 2px;
			background-color: currentColor;
			border-radius: 1px;
			transition: all 0.3s ease;
		}
	
		/* ===== Mobile Nav Container ===== */
		#yak-mobile-nav {
			position: fixed;
			inset: 0;
			z-index: 1000;
		}
	
		#yak-mobile-nav:not(.is-open):not(.is-closing) {
			visibility: hidden;
			opacity: 0;
			pointer-events: none;
		}
	
		#yak-mobile-nav.is-open,
		#yak-mobile-nav.is-closing {
			visibility: visible;
			opacity: 1;
			pointer-events: auto;
			z-index: 99999;
		}
	
		.yak-mobile-overlay {
			display: flex;
			justify-content: flex-end;
			width: 100%;
			height: 100%;
			transition: background 0.3s ease, opacity 0.3s ease;
			background: rgba(0, 0, 0, 0);
			backdrop-filter: blur(6px);
			-webkit-backdrop-filter: blur(6px);
			opacity: 0;
			pointer-events: none;
		}
		
		/* Open state: enable background + show overlay */
		#yak-mobile-nav.is-open .yak-mobile-overlay {
			background: rgba(0, 0, 0, 0.75);
			opacity: 1;
			pointer-events: auto;
		}
		
		/* Closing or inactive: fade both bg and blur visually */
		#yak-mobile-nav.is-closing .yak-mobile-overlay,
		#yak-mobile-nav:not(.is-open):not(.is-closing) .yak-mobile-overlay {
			background: rgba(0, 0, 0, 0);
			opacity: 0;
			pointer-events: none;
		}
		
	
		/* ===== Sliding Panel ===== */
		.yak-mobile-panel {
			width: 80vw;
			max-width: 320px;
			height: 100%;
			background-color: var(--yak-color-white);
			color: var(--yak-color-black);
			box-shadow: -4px 0 12px rgba(0, 0, 0, 0.15); /* subtle depth */
			transform: translateX(100%);
			transition: transform 0.4s ease;
			overflow-y: auto;
			padding: 1rem;
			position: relative;
			z-index: 20; /* sits above toggle */
			will-change: transform;
		}
	
		#yak-mobile-nav.is-open .yak-mobile-panel {
			transform: translateX(0);
		}
	
		/* ===== Menu Structure ===== */
		.yak-mobile-menu {
			list-style: none;
			margin: 0;
			padding: 0;
			display: flex;
			flex-direction: column;
			gap: 1rem;
		}
	
		.yak-mobile-menu li {
			position: relative;
		}
	
		.yak-mobile-menu a {
			display: block;
			text-decoration: none;
			color: var(--yak-color-black);
			font-weight: 600;
			font-size: 1rem;
			padding: 0.5rem 0;
		}
	
		/* ===== Submenu Toggle Button ===== */

		.yak-mobile-menu .sub-menu {
			position: static !important;
			visibility: visible !important;
			opacity: 1 !important;
			transform: none !important;
			box-shadow: none !important;
			background: transparent !important;
		}

		
		.yak-submenu-toggle {
			background: none;
			border: none;
			cursor: pointer;
			position: absolute;
			right: 0;
			top: 0.5rem;
			padding: 0.25rem;
			font-size: 1.25rem;
			color: currentColor;
			line-height: 1;
			z-index: 1;
		}

		.yak-submenu-caret {
			display: block;
			width: 1em;
			height: 1em;
			transition: transform 0.2s ease;
			pointer-events: none;
		}

		.yak-main-nav li.menu-item-has-children > a::after {
			display: none;
		}

		.yak-submenu-toggle[aria-expanded="true"] .yak-submenu-caret {
			transform: rotate(45deg);
		}

		/* ===== Submenu (Accordion) ===== */
		.yak-mobile-menu .sub-menu {
			list-style: none;
			margin: 0;
			/* padding-left: 1.25rem; */
			overflow: hidden;
			max-height: 0;
			opacity: 0;
			transition: max-height 0.35s ease, opacity 0.3s ease;
			font-size: 0.95rem;
		}

		.yak-mobile-menu .sub-menu li {
			margin: 0;
		}

		.yak-mobile-menu .sub-menu.is-open {
			max-height: 500px; /* enough to show ~5-6 items */
			opacity: 1;
		}

		.yak-mobile-header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 0 0 1rem;
			margin-bottom: 1rem;
			border-bottom: 1px solid var(--yak-color-muted);
		}
		
		.yak-mobile-title {
			font-size: 1.25rem;
			font-weight: 700;
			font-family: var(--yak-accent-font, inherit);
			color: var(--yak-color-black);
		}
		
		.yak-mobile-close {
			background: none;
			border: none;
			font-size: 2rem;
			line-height: 1;
			cursor: pointer;
			color: var(--yak-color-black);
			padding: 0;
			margin: 0;
		}
		

		

	}
	
		

	/* ========== Toggle & Highlight ========== */

	@media (min-width: 960px) {
		.yak-menu-toggle,
		#yak-mobile-nav {
			display: none !important;
		}

		.yak-main-nav > li.menu-highlight > a {
			font-family: var(--yak-primary-font);
			background-color: var(--yak-color-primary);
			color: var(--yak-color-white);
			border-radius: var(--yak-radius);
			padding: 0.75rem 1.5rem;
			font-size: 1rem;
			font-weight: 700;
			text-transform: uppercase;
			letter-spacing: 0.1em;
			border: none;
			cursor: pointer;
			box-shadow: none;
			transition: background-color 0.2s ease;
			display: inline-block;
		}

		.yak-main-nav > li.menu-highlight > a:hover,
		.yak-main-nav > li.menu-highlight > a:focus {
			background-color: var(--yak-color-black, var(--yak-color-muted));
			color: var(--yak-color-white);
			outline: none;
		}
	}
}



@layer yak-utilities {
  .visually-hidden {
    position: absolute !important;
    height: 1px;
    width: 1px;
    overflow: hidden;
    clip: rect(1px, 1px, 1px, 1px);
    white-space: nowrap;
    border: 0;
  }

	.has-small-font-size {
		font-size: var(--yak-font-sm);
		line-height: var(--yak-lh-sm);
	}

	.has-medium-font-size {
		font-size: var(--yak-font-lg);
		line-height: var(--yak-lh-lg);
	}

	.has-large-font-size {
		font-size: var(--yak-font-2xl);
		line-height: var(--yak-lh-2xl);
	}

	.has-x-large-font-size {
		font-size: var(--yak-font-4xl);
		line-height: var(--yak-lh-4xl);
	}

	.has-text-align-center {
		text-align: center;
	}

	.has-text-align-left {
		text-align: left;
	}

	.has-text-align-right {
		text-align: right;
	}

	.has-text-align-justify {
		text-align: justify;
	}

}

@layer yak-overrides {
  /* put one-off overrides here */



}
